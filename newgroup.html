<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accueil</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function createGroup() {
            const name = document.getElementById("groupName").value;
            const code = document.getElementById("groupCode").value;

            if (groupes.find(g => g.code === code)) {
                alert("Un groupe avec ce code existe déjà !");
                return;
            }

            const group = { name: name, code: code, members: [currentUser.email], photos: [], scores: {} };
            groupes.push(group);
            localStorage.setItem("groupes", JSON.stringify(groupes));

            // Ajouter l'utilisateur au groupe
            currentUser.groupes.push(code);
            localStorage.setItem("utilisateurs", JSON.stringify(utilisateurs));

            alert("Groupe créé avec succès !");
            windows.location.href="group.html";
            document.getElementById("groupList").classList.remove("hidden");
        }
    </script>
</head>
<header>
    <h1>créer un groupe</h1>
</header>
<body>
    <label for="groupName">Nom du groupe :</label>
    <input type="text" id="groupName" required><br>

    <label for="groupCode">Code du groupe :</label>
    <input type="text" id="groupCode" required><br>

    <button type="button" onclick="createGroup()">Créer</button>
    <a href="group.html"><button>retour aux groupes</button></a>
</body>
</html>
